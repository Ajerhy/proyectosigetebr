{% extends "base/static/base_dasboard.html" %}
{% load staticfiles %}
{% block title %} Login {% endblock title %}

{% block content %}
<div class="container">
    <!-- Outer Row -->
    <div class="row justify-content-center">

      <div class="col-xl-6 col-lg-12 col-md-9">

        <div class="card o-hidden border-0 shadow-lg my-5">
          <div class="card-body p-0">
            <!-- Nested Row within Card Body -->
            <div class="row">
              <div class="col-lg-12">
                <div class="p-5">
                  <div class="text-center">

                      <div class="login">
                          <a onclick="window.location.href='{% url 'usuario:index' %}'">
                          <img src="{% static 'favicon.ico' %}" alt="PyERP" style="opacity: .8; margin-left: 12px;" height="50px" >
                          </a>
                      </div>



                    <h1 class="h4 text-gray-900 mb-4"><b>Sistema de Gestión de Terrenos</b> SIGETE<sup>BR</sup></h1>
                  </div>

                    {% if error %}
                        <div class="alert alert-danger alert-dismissible" role="alert">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h5><i class="icon fas fa-check"></i> Informacion!</h5>
                            {{ message }}
                        </div>
                    {% endif %}

                  <form class="user" method="POST" accept-charset="utf-8" autocomplete="off">
                      {% csrf_token %}
                    <div class="form-group">
                      <input type="text" class="form-control form-control-user" id="id_usuario" name="usuario" aria-describedby="emailHelp" placeholder="Usuario">
                        <div class="input-group-append">
                            {{form.usuario.errors}}
                        </div>
                    </div>
                    <div class="form-group">
                      <input type="password" class="form-control form-control-user" id="id_password" name="password" placeholder="Password">
                        <div class="input-group-append">
                            {{form.password.errors}}
                        </div>
                    </div>

                    <!--div class="form-group">
                      <div class="custom-control custom-checkbox small">
                        <input type="checkbox" class="custom-control-input" id="customCheck">
                        <label class="custom-control-label" for="customCheck">Remember Me</label>
                      </div>
                    </div-->


                      <div class="col-12">
                          <button type="submit" class="btn btn-success btn-user btn-block">Entrar</button>
                      </div>

                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>
    <!-- Outer Row -->
</div>
{% endblock content %}

{% block jssextras %}
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
(function() {
  'use strict';
  window.addEventListener('load', function() {
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>

{% endblock jssextras %}